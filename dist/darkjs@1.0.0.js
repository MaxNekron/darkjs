(()=>{var t={52:()=>{String.prototype.url_encode=function(){return encodeURIComponent(this)},String.prototype.url_decode=function(){return decodeURIComponent(this)}}},e={};function s(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,s),r.exports}(()=>{"use strict";s(52),Object.prototype.toQueryString=function(){let t=[];return Object.keys(this).forEach((e=>{t.push([(e+"").url_encode(),(this[e]+"").url_encode()].join("="))})),t.join("&")},Object.prototype.fromQueryString=function(t){let e={};return t?(t.split("&").forEach((t=>{const s=t.split("=");s.length>1&&(e[s[0].url_decode()]=s[1].url_decode())})),e):e},document.readCookie=function(t){const e=(" "+document.cookie).match(new RegExp(`\\s${t.url_encode()}=([^;]+)`));return e?e[1].url_decode():null},document.deleteCookie=function(t){return document.writeCookie(t,null,{duration:0})},document.writeCookie=function(t,e,s={}){e=""+e;const o=s.path||"/",n=s.samesite||"None",r=s.expires||function(t){let e=new Date;return e.setTime(e.getTime()+24*t*60*60*1e3),e}(s.duration??7);document.cookie=`${t.url_encode()}=${e.url_encode()}; expires=${r.toUTCString()}; path=${o}; SameSite=${n}`};const t=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},e=function(t){if(t)return document.readCookie(t)},o=function(t,e){if(t)return document.writeCookie(t,e)},n={attributes:!0,childList:!0,subtree:!0},r={load:function(t){"img"!=this.getTag()&&window.addEventListener("load",t.bind(this),!1)},modified:function(t){let e,s=function(){e||(setTimeout(t.bind(this),1),e=setTimeout((()=>{e=null}),1))}.bind(this);"undefined"!=typeof MutationObserver?new MutationObserver(s).observe(this,n):this.addEventListener("DOMSubtreeModified",s,!1)}};Element.prototype.setClass=function(t){return this.setAttribute("class",t||""),this},Element.prototype.getClass=function(){return this.getAttribute("class")||""},Element.prototype.hasClass=function(t){return!!this.getClass().match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},Element.prototype.addClass=function(t){return this.hasClass(t)||this.setClass((this.getClass()+" "+t).trim()),this},Element.prototype.removeClass=function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");return this.setClass(this.getClass().replace(e," ").trim()),this},Element.prototype.removeClassMatching=function(t){const e=this.getClass().match(new RegExp(t,"g"))||[];for(var s=0;s<e.length;s++)this.removeClass(e[s]);return this},Element.prototype.toHtml=function(){var t=document.createElement("div");return t.appendChild(this),t.innerHTML},Element.prototype.insert=function(t,e){return this.childNodes.length>0&&e<this.childNodes.length&&"bottom"!==e?("top"===e&&(e=0),this.insertBefore(t,this.childNodes[e])):this.appendChild(t),this},Element.prototype.before=function(t,e){var s=this.parentNode,o=Array.prototype.indexOf.call(s.childNodes,this)-1;return s.insert(t,o),this},Element.prototype.after=function(t,e){var s=this.parentNode,o=Array.prototype.indexOf.call(s.childNodes,this)+1;return s.insert(t,o)},Element.prototype.remove=function(){var t=this.parentNode;t&&t.removeChild(this)},Element.prototype.contains=function(t){return this==t||!!t&&this.contains(t.parentNode)},Element.prototype.getText=function(){return this.innerText},Element.prototype.setText=function(t){return this.innerText=t,this},Element.prototype.addText=function(t){return this.innerText=this.innerText+t,this},Element.prototype.getHtml=function(){return this.innerHTML},Element.prototype.setHtml=function(t){return this.innerHTML=t,this},Element.prototype.addText=function(t){return this.innerHTML=this.innerHTML+t,this},Element.prototype.getTag=function(){return this.tagName.toLowerCase()},Element.prototype.on=function(t,e,s){const o=r[t];return o&&o.bind(this)(e.bind(this)),this.addEventListener(t,e.bind(this),s),this},Window.prototype.on=Element.prototype.on,Element.prototype.styles=null,Element.prototype.addStyle=function(t,e){return this.style[t]=e,this},Element.prototype.setStyle=function(t){return this.setAttribute("style",t),this},Element.prototype.getStyle=function(t){return this.styles||(this.styles=window.getComputedStyle(this,null)),this.styles.getPropertyValue(t)},Element.prototype.getPath=function(){if(""!==this.id)return"#"+this.id;if(this===document.body)return this.getTag();for(var t=1,e=this.parentNode.childNodes,s=0;s<e.length;s++){var o=e[s];if(o===this)return this.parentNode.getPath()+" > "+this.getTag()+":nth-of-type("+t+")";1===o.nodeType&&o.getTag()===this.getTag()&&(t+=1)}};const i=function(t,e){const s=Object.keys(e);for(let o=0;o<s.length;o++){const n=s[o];t=t.replace(new RegExp("{"+n+"}","g"),e[n])}return t.replace(new RegExp("{\\w+}","g"),"")};class a{constructor(t){const e=this.hsla(t);this.hue=e.hue,this.saturation=e.saturation,this.lightness=e.lightness,this.alpha=e.alpha}}function l(t){return new a(t)}function h(t,e){let s={};C.getStylesFromElement(t).forEach((function(t){/rgb/.test(t)&&!s[t]&&(s[t]=l(t))}));const o=t.children;for(var n=0;n<o.length;n++){const t=o[n];t.hasClass(e)||(s={...s,...h(t,e)})}return s}function c(t){return t.alpha>0}function u(t,e){return c(t)&&t.lightness<e}function d(t,e){return c(t)&&t.lightness>e}a.prototype.toString=function(){return this.toRgba()},a.prototype.toHexa=function(){this.hslToRgb(this.hue%360,this.saturation,this.lightness);var t=this.valToHex(255*this.alpha);return this.toHex()+t},a.prototype.toHex=function(){const t=this.hslToRgb(this.hue%360,this.saturation,this.lightness);return"#"+this.valToHex(t.red)+this.valToHex(t.green)+this.valToHex(t.blue)},a.prototype.toRgba=function(){const t=this.hslToRgb(this.hue%360,this.saturation,this.lightness);return"rgba("+Math.round(t.red)+", "+Math.round(t.green)+", "+Math.round(t.blue)+", "+this.alpha+")"},a.prototype.toHsl=function(){return"hsl("+(this.hue%360||0)+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"},a.prototype.valToHex=function(t){for(var e=parseInt(t).toString(16);e.length<2;)e="0"+e;return e},a.prototype.hslToRgb=function(t,e,s){var o,n;return t/=60,o=2*s-(n=s<=.5?s*(e+1):s+e-s*e),{red:255*this.hueToRgb(o,n,t+2),green:255*this.hueToRgb(o,n,t),blue:255*this.hueToRgb(o,n,t-2)}},a.prototype.hueToRgb=function(t,e,s){return s<0&&(s+=6),s>=6&&(s-=6),s<1?(e-t)*s+t:s<3?e:s<4?(e-t)*(4-s)+t:t},a.prototype.rgba=function(t){var e=1,s=t.replace(/[^\d\,\.]/g,"").split(",");return s[0]=(parseInt(s[0])||0)/255,s[1]=(parseInt(s[1])||0)/255,s[2]=(parseInt(s[2])||0)/255,void 0!==s[3]&&(e=parseFloat(s[3])),{red:s[0],green:s[1],blue:s[2],alpha:e}},a.prototype.hsla=function(t){const e=this.rgba(t);var s,o,n,r,i,a,l=[];for(l[0]=e.red,l[1]=e.green,l[2]=e.blue,s=l[0],o=l[0],i=0,n=0;n<l.length-1;n++)l[n+1]<=s&&(s=l[n+1]),l[n+1]>=o&&(o=l[n+1],i=n+1);return 0==i&&(a=(l[1]-l[2])/(o-s)),1==i&&(a=2+(l[2]-l[0])/(o-s)),2==i&&(a=4+(l[0]-l[1])/(o-s)),isNaN(a)&&(a=0),(a*=60)<0&&(a+=360),r=(s+o)/2,{hue:a,saturation:s==o?0:r<.5?(o-s)/(o+s):(o-s)/(2-o-s),lightness:r,alpha:e.alpha}};const p={colorsInElement:function(t,e,s,o){return function(t,e,s){let o={};return Object.keys(t).forEach((n=>{const r=t[n];(d(r,s)||u(r,e))&&(o[n]=r)})),o}(h(t,e),s,o)},invertBrightness:function(t,e=0){return t.lightness=1+e/100-t.lightness,t.lightness>1&&(t.lightness=1),t},isDark:u,isBright:d},g={"background-color":"bg",fill:"fl",stroke:"st",color:"cl","border-top-color":"bt","border-right-color":"br","border-bottom-color":"bb","border-left-color":"bl"},f={fill:["svg","path","rect","clippath","circle","elipse","line","polygon"],stroke:["svg"]},m={border:{test:"^0D+|none",props:["border-top-color","border-right-color","border-bottom-color","border-left-color"]}};function y(t){let e=Object.keys(g);const s=t.getTag();return Object.keys(m).forEach((s=>{const o=m[s],n=t.getStyle(s);new RegExp(o.test).test(n)&&(e=e.filter((t=>o.props.indexOf(t)<0)))})),Object.keys(f).forEach((t=>{f[t].indexOf(s)<0&&(e=e.filter((e=>e!=t)))})),e}function b(t,e,s){return i("{className}-{prop}-{level}",{className:s,level:e,prop:g[t]})}function k(t,e,s,o,n=0,r=!0){const a=function(t,e,s,o,n){const r=function(t){const e=t.replace(/^(\w+).*/i,"$1"),s=document.createElement(e);var o=t.replace(/\[[^\[\]]+\]/g,"").match(/#[\w-]+/),n=t.replace(/\[[^\[\]]+\]/g,"").match(/\.([\w\-]+)/g),r=t.match(/\[[^\[\]]+\]/g);return o&&(s.id=o.join("").replace("#","")),n&&s.setClass(n.join("").replace(/\./g," ").trim()),r&&r.forEach((t=>{var e=t.replace(/\[|\]/g,"").split("=");s.setAttribute(e[0],e.splice(1).join("="))})),s}("style[class="+s+"]");return n&&r.addText(i("{path}.{className} { transition: all .2s ease !important; } \n",{path:e,className:s})),t.forEach(((t,n)=>{const a=p.invertBrightness(l(t),o);r.addText(function(t,e,s,o){let n="";return Object.keys(g).forEach((r=>{n+=function(t,e,s,o,n){return i("{path}.{className}.{styleClass}, {path}.{className} .{styleClass} { {prop}: {color} !important; } \n",{path:o,className:n,prop:t,color:e,styleClass:b(t,s,n)})}(r,t,e,s,o)})),n}(a,n+1,e,s))})),r}(o,s,e,n,r);t.insert(a,0)}function E(t,e,s,o,n,r,i){const a=Object.values(s);t.getTag(),w(t,e),y(t).forEach((n=>{const l=t.getStyle(n),h=s[l];if(h&&(o.indexOf(n)<0?p.isDark(h,r):p.isBright(h,i))){const s=a.indexOf(h);t.addClass(b(n,s+1,e))}}));const l=t.children;for(var h=0;h<l.length;h++){const t=l[h];0==t.hasClass(e)&&n.indexOf(t.getTag())<0&&E(t,e,s,o,n,r,i)}}function v(t,e){!function(t,e){const s=t.children;for(var o=0;o<s.length;o++){const t=s[o];"style"==t.getTag()&&t.className.match(e)&&t.remove()}}(t,e),T(t,e)}function T(t,e){w(t,e);const s=t.children||[];for(var o=0;o<s.length;o++){const t=s[o];0==t.hasClass(e)&&T(t,e)}}function w(t,e){t.removeClassMatching(e+"-[\\w-]+")}const C={getStylesFromElement:function(t){let e=[];return y(t).forEach((s=>{e.push(t.getStyle(s))})),e},addStylesToElement:function(t,e,s,o,n,r,i,a,l){t.addClass(e),v(t,e),k(t,e,t.getPath(),Object.keys(s),a,l),E(t,e,s,o,n,r,i)},removeStylesFromElement:v,removeClassesInsideElement:T},x=class{constructor(t,e={}){this.root=t,this.animate=e.animate??!0,this.offset=e.offset??10,this.className=e.className||"darkjs",this.cookieKey=e.cookieKey??"darkmode",this.darkThreshold=e.darkThreshold??.3,this.brightThreshold=e.brightThreshold??.7,this.background_props=e.backgroundProps??["fill","background-color"],this.exclude_elements=e.exclude_elements??["style","script","img","text","video","audio"],this.isDark=!1,this.colors={},this.observer=new MutationObserver(this.onChange.bind(this)),this.observer.observe(this.root,{attributes:!0,childList:!0,subtree:!0}),this.init()}init(){this.root.addClass(this.className);let s=e(this.cookieKey);null===s&&(s=t()),s&&this.darkem()}darkem(t){this.isDark=!0,this.isMutating=!0,this.colors={...this.colors,...p.colorsInElement(this.root,this.className,this.brightThreshold,this.darkThreshold)},C.addStylesToElement(this.root,this.className,this.colors,this.background_props,this.exclude_elements,this.darkThreshold,this.brightThreshold,this.offset,t??this.animate),setTimeout((()=>this.isMutating=!1),1),o(this.cookieKey,1)}darkemnt(){this.isDark=!1,C.removeClassesInsideElement(this.root,this.className),this.colors={},o(this.cookieKey,0)}toggle(){this.isDark?this.darkemnt():this.darkem()}onChange(t,e){if(this.isDark&&!this.isMutating){for(const e of t)if(this.isNestedMutation(e.target))return;this.darkem(!1)}}isNestedMutation(t){return t!=this.root&&(t.hasClass(this.className)||this.isNestedMutation(t.parentNode))}};window.Darkjs||(window.Darkjs=x,window.Darkjs.options={},document.querySelectorAll("script").forEach((t=>{/\/darkjs[\@\d\.]*\.js\?/.test(t.src)&&(window.Darkjs.options={...window.Darkjs.options,...{}.fromQueryString(t.src.split("?").pop())})})),window.Darkjs.callback=window[window.Darkjs.options.callback],window.Darkjs.callback||(window.Darkjs.callback=function(){document.body.darkjs=new x(document.body,window.Darkjs.options)}),window.Darkjs.callback())})()})();